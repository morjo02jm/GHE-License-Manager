apiVersion: v1
kind: DeploymentConfig
metadata:
  name: github-events-master
  namespace: tools-services-dev  
spec:
  strategy:
    type: Rolling
  triggers:
    - type: ConfigChange
    # - type: ImageChange
    #   imageChangeParams:
    #     automatic: true
    #     containerNames:
    #       - github-events-master
    #     from:
    #       kind: ImageStreamTag
    #       namespace: tools-services-dev
    #       name: 'github-events-master:latest'
  replicas: 1
  selector:
    name: github-events-master
  template:
    metadata:
      labels:
        app: github-events-master
        name: github-events-master
    spec:
      containers:
        - name: github-events-master
          image: isl-dsdc.ca.com:5000/ca/tools/github-events-master:latest
          ports:
            - containerPort: 4000
              protocol: TCP
          resources:
            limits:
              cpu: '300m'
              memory: 1Gi
            requests:
              cpu: 1m
              memory: 1Mi
